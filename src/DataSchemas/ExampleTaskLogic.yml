%YAML 1.1
---
# yaml-language-server: $schema=https://raw.githubusercontent.com/AllenNeuralDynamics/aind-vr-foraging/main/src/DataSchemas/aind-vr-foraging-task.json

operationControl:
  taskStage: Habituation
  habituationSettings:
    distanceToReward:
      maximum: 10
      mean: 10
      minimum: 10
    brightness: 0.5
    reward:
      probability: 1
      amount: 50
      operantLogic:
        isOperant: true
        stopDuration: 0
        timeToCollect: 1000000
  positionControl:
    gain:
      x: 1
      y: 1
      z: 1
    initialPosition:
      x: 0
      y: 2.56
      z: 0
    stopResponseConfig:
      frequencyFilterCutoff: 5
      velocityThreshold: 10
  odorControl:
    valveMaxOpenTime: 5.0
  virtualSiteGeneration:
   gapSite:
     brightness: 0.5
     label: Gap
     lengthDistribution:
       maximum: 30
       mean: 18
       minimum: 10
   rewardSite:
     brightness: 0.5
     label: Reward
     lengthDistribution:
       maximum: 15
       mean: 15
       minimum: 15
   interPatchSite:
     brightness: 1
     label: "InterPatch"
     lengthDistribution:
       maximum: 50
       mean: 25
       minimum: 10
environmentStatistics:
  firstState: 0
  transitionMatrix:
    data:
      - [0, 1]
      - [1, 0]
  patches:
    - label: "Berries"
      stateIndex: 0
      patchRewardFunction:
        initialRewardAmount: 10000
      odorSpecifications:
        concentration: 1
        index: 0
      rewardSpecifications:
        probability: 1
        amount: 1
        operantLogic:
          isOperant: true
          stopDuration: 1
          timeToCollect: 1000000
          choiceGracePeriod: 0.1
    - label: "Bananas"
      stateIndex: 1
      patchRewardFunction:
        initialRewardAmount: 10000
      odorSpecifications:
        concentration: 1
        index: 1
      rewardSpecifications:
        probability: 1
        amount: 1
        operantLogic:
          isOperant: true
          stopDuration: 1
          timeToCollect: 1000000
          choiceGracePeriod: 0.1