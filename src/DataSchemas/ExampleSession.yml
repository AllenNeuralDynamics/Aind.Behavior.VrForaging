%YAML 1.1
---
# yaml-language-server: $schema=aind-vr-foraging-session.json

metadata:
  experiment: "vr-foraging"
  notes: "nothing to report"
  rootPath: "C:\\data\\"
  subject: "subject"
  version: "0.0.1-preview20230831"
  commitHash: null
  rngSeed: null
hardware:
  screen:
    monitorCalibrationDirectory: "Calibration\\Monitors"
    textureAssetDirectory:  "Textures"
  treadmill:
    model: headfix
    wheelDiameter: 15
    encoderResolution: 32768
    invertDirection: true
  valves:
    water:
      model: Leeblahblah
      pin: Port0Supply
      valveType: water
      calibration:
        intercept: 0
        slope: 1
    odor1: &odorvalve
      model: Leeblahblah
      pin: Port1Supply
      valveType: odor
      calibration:
        intercept: 0
        slope: 1
    odor2:
      <<: *odorvalve
      pin: Port2Supply
      calibration:
        intercept: 0
        slope: 1
  harpBehaviorBoard:
    deviceType: behavior
    portName: COM3
  mainCamera:
    frameRate: 30
    exposure: 1000
    gain: 0
    serialNumber: "23113702"
    colorProcessing: Default
    binning: 1
  auxiliaryCamera0:
    index: 0
  auxiliaryCamera1:
    index: 1
  speaker:
    model: buzzer
    pin: DO1
    pwmDefaultPulseDuration: 0.2
    pwmFrequency: 500
taskLogicControl:
  taskStage: Habituation
  habituationSettings:
    distanceToReward: 10
    brightness: 0.5
    reward:
      delay: 0
      probability: 1
      amount: 50
      operantLogic:
        isOperant: true
        stopDuration: 0
        timeToCollect: 1000000
  positionControl:
    gain:
      x: 1
      y: 1
      z: 1
    initialPosition:
      x: 0
      y: 2.56
      z: 0
    stopResponseConfig:
      frequencyFilterCutoff: 5
      velocityThreshold: 10
  odorControl:
    valveMaxOpenTime: 5.0
  virtualSiteGeneration:
   gapSite:
     brightness: 0.5
     label: Gap
     lengthDistribution:
       maximum: 30
       mean: 18
       minimum: 10
   rewardSite:
     brightness: 0.5
     label: Reward
     lengthDistribution:
       maximum: 15
       mean: 15
       minimum: 15
   interPatchSite:
     brightness: 1
     label: "InterPatch"
     lengthDistribution:
       maximum: 50
       mean: 25
       minimum: 10
environmentStatistics:
  firstState: 0
  transitionMatrix:
    data:
      - [0, 1]
      - [1, 0]
  patches:
    - label: "Berries"
      stateIndex: 0
      odorSpecifications:
        concentration: 1
        index: 0
      rewardSpecifications:
        delay: 0
        probability: 1
        amount: 1
        operantLogic:
          isOperant: true
          stopDuration: 1
          timeToCollect: 1000000
    - label: "Bananas"
      stateIndex: 1
      odorSpecifications:
        concentration: 1
        index: 1
      rewardSpecifications:
        delay: 0
        probability: 1
        amount: 1
        operantLogic:
          isOperant: true
          stopDuration: 1
          timeToCollect: 1000000