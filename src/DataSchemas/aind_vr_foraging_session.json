{
  "definitions": {
    "AngleUnit": {
      "description": "Enumeration of Angle Measurements",
      "enum": [
        "radians",
        "degrees"
      ],
      "title": "AngleUnit",
      "type": "string"
    },
    "BaseName": {
      "additionalProperties": false,
      "description": "A simple model associating a name with an abbreviation",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "abbreviation": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Abbreviation"
        }
      },
      "required": [
        "name"
      ],
      "title": "BaseName",
      "type": "object"
    },
    "BehaviorStimulation": {
      "additionalProperties": false,
      "description": "Description of behavior parameters. Provides a high level description of stimulus.",
      "properties": {
        "stimulus_type": {
          "const": "Behavior",
          "default": "Behavior",
          "title": "Stimulus Type",
          "type": "string"
        },
        "behavior_name": {
          "title": "Behavior name",
          "type": "string"
        },
        "session_number": {
          "title": "Session number",
          "type": "integer"
        },
        "behavior_software": {
          "description": "The software used to control the behavior (e.g. Bonsai)",
          "items": {
            "$ref": "#/definitions/Software"
          },
          "title": "Behavior software",
          "type": "array"
        },
        "behavior_script": {
          "allOf": [
            {
              "$ref": "#/definitions/Software"
            }
          ],
          "description": "provide URL to the commit of the script and the parameters used",
          "title": "Behavior script"
        },
        "output_parameters": {
          "description": "Performance metrics from session",
          "title": "Performance parameters",
          "type": "object"
        },
        "reward_consumed_during_epoch": {
          "title": "Reward consumed during training (uL)",
          "type": "string"
        },
        "reward_consumed_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/VolumeUnit"
            }
          ],
          "default": "microliter",
          "title": "Reward consumed unit"
        },
        "trials_total": {
          "default": null,
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "title": "Total trials"
        },
        "trials_finished": {
          "default": null,
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "title": "Finished trials"
        },
        "trials_rewarded": {
          "default": null,
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "title": "Rewarded trials"
        },
        "notes": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Notes"
        }
      },
      "required": [
        "behavior_name",
        "session_number",
        "behavior_software",
        "behavior_script",
        "output_parameters",
        "reward_consumed_during_epoch"
      ],
      "title": "BehaviorStimulation",
      "type": "object"
    },
    "BehaviorVideos": {
      "additionalProperties": false,
      "description": "BehaviorVideos",
      "properties": {
        "name": {
          "const": "Behavior videos",
          "default": "Behavior videos",
          "title": "Name",
          "type": "string"
        },
        "abbreviation": {
          "const": "behavior-videos",
          "default": "behavior-videos",
          "title": "Abbreviation",
          "type": "string"
        }
      },
      "title": "BehaviorVideos",
      "type": "object"
    },
    "Calibration": {
      "additionalProperties": false,
      "description": "Generic calibration class",
      "properties": {
        "calibration_date": {
          "format": "date-time",
          "title": "Date and time of calibration",
          "type": "string"
        },
        "device_name": {
          "description": "Must match a device name in rig/instrument",
          "title": "Device name",
          "type": "string"
        },
        "description": {
          "description": "Brief description of what is being calibrated",
          "title": "Description",
          "type": "string"
        },
        "input": {
          "default": {},
          "description": "Calibration input",
          "title": "inputs",
          "type": "object"
        },
        "output": {
          "default": {},
          "description": "Calibration output",
          "title": "outputs",
          "type": "object"
        },
        "notes": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Notes"
        }
      },
      "required": [
        "calibration_date",
        "device_name",
        "description"
      ],
      "title": "Calibration",
      "type": "object"
    },
    "CcfCoords": {
      "additionalProperties": false,
      "description": "Coordinates in CCF template space",
      "properties": {
        "ml": {
          "title": "ML",
          "type": "string"
        },
        "ap": {
          "title": "AP",
          "type": "string"
        },
        "dv": {
          "title": "DV",
          "type": "string"
        },
        "unit": {
          "allOf": [
            {
              "$ref": "#/definitions/SizeUnit"
            }
          ],
          "default": "micrometer",
          "title": "Coordinate unit"
        },
        "ccf_version": {
          "allOf": [
            {
              "$ref": "#/definitions/CcfVersion"
            }
          ],
          "default": "CCFv3",
          "title": "CCF version"
        }
      },
      "required": [
        "ml",
        "ap",
        "dv"
      ],
      "title": "CcfCoords",
      "type": "object"
    },
    "CcfVersion": {
      "const": "CCFv3",
      "description": "CCF version",
      "title": "CcfVersion",
      "type": "string"
    },
    "ConcentrationUnit": {
      "description": "Concentraion units",
      "enum": [
        "molar",
        "micromolar",
        "nanomolar",
        "% m/m",
        "% v/v"
      ],
      "title": "ConcentrationUnit",
      "type": "string"
    },
    "Confocal": {
      "additionalProperties": false,
      "description": "Confocal",
      "properties": {
        "name": {
          "const": "Confocal microscopy",
          "default": "Confocal microscopy",
          "title": "Name",
          "type": "string"
        },
        "abbreviation": {
          "const": "confocal",
          "default": "confocal",
          "title": "Abbreviation",
          "type": "string"
        }
      },
      "title": "Confocal",
      "type": "object"
    },
    "Coordinates3d": {
      "additionalProperties": false,
      "description": "Coordinates in a 3D grid",
      "properties": {
        "x": {
          "title": "Position X",
          "type": "string"
        },
        "y": {
          "title": "Position Y",
          "type": "string"
        },
        "z": {
          "title": "Position Z",
          "type": "string"
        },
        "unit": {
          "allOf": [
            {
              "$ref": "#/definitions/SizeUnit"
            }
          ],
          "default": "micrometer",
          "title": "Position unit"
        }
      },
      "required": [
        "x",
        "y",
        "z"
      ],
      "title": "Coordinates3d",
      "type": "object"
    },
    "DetectorConfig": {
      "additionalProperties": false,
      "description": "Description of detector settings",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "exposure_time": {
          "title": "Exposure time (ms)",
          "type": "string"
        },
        "exposure_time_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/TimeUnit"
            }
          ],
          "default": "millisecond",
          "title": "Exposure time unit"
        },
        "trigger_type": {
          "allOf": [
            {
              "$ref": "#/definitions/TriggerType"
            }
          ],
          "title": "Trigger type"
        }
      },
      "required": [
        "name",
        "exposure_time",
        "trigger_type"
      ],
      "title": "DetectorConfig",
      "type": "object"
    },
    "DomeModule": {
      "additionalProperties": false,
      "description": "Movable module that is mounted on the ephys dome insertion system",
      "properties": {
        "assembly_name": {
          "title": "Assembly name",
          "type": "string"
        },
        "arc_angle": {
          "title": "Arc Angle (deg)",
          "type": "string"
        },
        "module_angle": {
          "title": "Module Angle (deg)",
          "type": "string"
        },
        "angle_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/AngleUnit"
            }
          ],
          "default": "degrees",
          "title": "Angle unit"
        },
        "rotation_angle": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Rotation Angle (deg)"
        },
        "coordinate_transform": {
          "default": null,
          "description": "Path to coordinate transform",
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Transform from local manipulator axes to rig"
        },
        "calibration_date": {
          "default": null,
          "oneOf": [
            {
              "format": "date-time",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Date on which coordinate transform was last calibrated"
        },
        "notes": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Notes"
        }
      },
      "required": [
        "assembly_name",
        "arc_angle",
        "module_angle"
      ],
      "title": "DomeModule",
      "type": "object"
    },
    "Ecephys": {
      "additionalProperties": false,
      "description": "Ecephys",
      "properties": {
        "name": {
          "const": "Extracellular electrophysiology",
          "default": "Extracellular electrophysiology",
          "title": "Name",
          "type": "string"
        },
        "abbreviation": {
          "const": "ecephys",
          "default": "ecephys",
          "title": "Abbreviation",
          "type": "string"
        }
      },
      "title": "Ecephys",
      "type": "object"
    },
    "Electromyography": {
      "additionalProperties": false,
      "description": "Electromyography",
      "properties": {
        "name": {
          "const": "Electromyography",
          "default": "Electromyography",
          "title": "Name",
          "type": "string"
        },
        "abbreviation": {
          "const": "EMG",
          "default": "EMG",
          "title": "Abbreviation",
          "type": "string"
        }
      },
      "title": "Electromyography",
      "type": "object"
    },
    "EphysModule": {
      "additionalProperties": false,
      "description": "Probe recorded in a Stream",
      "properties": {
        "assembly_name": {
          "title": "Assembly name",
          "type": "string"
        },
        "arc_angle": {
          "title": "Arc Angle (deg)",
          "type": "string"
        },
        "module_angle": {
          "title": "Module Angle (deg)",
          "type": "string"
        },
        "angle_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/AngleUnit"
            }
          ],
          "default": "degrees",
          "title": "Angle unit"
        },
        "rotation_angle": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Rotation Angle (deg)"
        },
        "coordinate_transform": {
          "default": null,
          "description": "Path to coordinate transform",
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Transform from local manipulator axes to rig"
        },
        "calibration_date": {
          "default": null,
          "oneOf": [
            {
              "format": "date-time",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Date on which coordinate transform was last calibrated"
        },
        "notes": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Notes"
        },
        "primary_targeted_structure": {
          "title": "Targeted structure",
          "type": "string"
        },
        "targeted_ccf_coordinates": {
          "default": [],
          "items": {
            "$ref": "#/definitions/CcfCoords"
          },
          "title": "Targeted CCF coordinates",
          "type": "array"
        },
        "manipulator_coordinates": {
          "allOf": [
            {
              "$ref": "#/definitions/Coordinates3d"
            }
          ],
          "title": "Manipulator coordinates"
        },
        "ephys_probes": {
          "items": {
            "$ref": "#/definitions/EphysProbeConfig"
          },
          "title": "Ephys probes used in this module",
          "type": "array"
        }
      },
      "required": [
        "assembly_name",
        "arc_angle",
        "module_angle",
        "primary_targeted_structure",
        "manipulator_coordinates",
        "ephys_probes"
      ],
      "title": "EphysModule",
      "type": "object"
    },
    "EphysProbeConfig": {
      "additionalProperties": false,
      "description": "Probes in a EphysProbeModule",
      "properties": {
        "name": {
          "title": "Ephys probe name (must match rig JSON)",
          "type": "string"
        },
        "other_targeted_structures": {
          "default": [],
          "items": {
            "type": "string"
          },
          "title": "Other Targeted Structures",
          "type": "array"
        }
      },
      "required": [
        "name"
      ],
      "title": "EphysProbeConfig",
      "type": "object"
    },
    "Fib": {
      "additionalProperties": false,
      "description": "Fib",
      "properties": {
        "name": {
          "const": "Fiber photometry",
          "default": "Fiber photometry",
          "title": "Name",
          "type": "string"
        },
        "abbreviation": {
          "const": "fib",
          "default": "fib",
          "title": "Abbreviation",
          "type": "string"
        }
      },
      "title": "Fib",
      "type": "object"
    },
    "FiberConnectionConfig": {
      "additionalProperties": false,
      "description": "Description for a fiber photometry configuration",
      "properties": {
        "patch_cord_name": {
          "title": "Patch cord name (must match rig)",
          "type": "string"
        },
        "patch_cord_output_power": {
          "title": "Output power (uW)",
          "type": "string"
        },
        "output_power_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/PowerUnit"
            }
          ],
          "default": "microwatt",
          "title": "Output power unit"
        },
        "fiber_name": {
          "title": "Fiber name (must match procedure)",
          "type": "string"
        }
      },
      "required": [
        "patch_cord_name",
        "patch_cord_output_power",
        "fiber_name"
      ],
      "title": "FiberConnectionConfig",
      "type": "object"
    },
    "FiberModule": {
      "additionalProperties": false,
      "description": "Inserted fiber photometry probe recorded in a stream",
      "properties": {
        "assembly_name": {
          "title": "Assembly name",
          "type": "string"
        },
        "arc_angle": {
          "title": "Arc Angle (deg)",
          "type": "string"
        },
        "module_angle": {
          "title": "Module Angle (deg)",
          "type": "string"
        },
        "angle_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/AngleUnit"
            }
          ],
          "default": "degrees",
          "title": "Angle unit"
        },
        "rotation_angle": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Rotation Angle (deg)"
        },
        "coordinate_transform": {
          "default": null,
          "description": "Path to coordinate transform",
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Transform from local manipulator axes to rig"
        },
        "calibration_date": {
          "default": null,
          "oneOf": [
            {
              "format": "date-time",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Date on which coordinate transform was last calibrated"
        },
        "notes": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Notes"
        },
        "primary_targeted_structure": {
          "title": "Targeted structure",
          "type": "string"
        },
        "targeted_ccf_coordinates": {
          "default": [],
          "items": {
            "$ref": "#/definitions/CcfCoords"
          },
          "title": "Targeted CCF coordinates",
          "type": "array"
        },
        "manipulator_coordinates": {
          "allOf": [
            {
              "$ref": "#/definitions/Coordinates3d"
            }
          ],
          "title": "Manipulator coordinates"
        },
        "fiber_connections": {
          "default": [],
          "items": {
            "$ref": "#/definitions/FiberConnectionConfig"
          },
          "title": "Fiber photometry devices",
          "type": "array"
        }
      },
      "required": [
        "assembly_name",
        "arc_angle",
        "module_angle",
        "primary_targeted_structure",
        "manipulator_coordinates"
      ],
      "title": "FiberModule",
      "type": "object"
    },
    "FieldOfView": {
      "additionalProperties": false,
      "description": "Description of an imaging field of view",
      "properties": {
        "index": {
          "title": "Index",
          "type": "integer"
        },
        "imaging_depth": {
          "title": "Imaging depth (um)",
          "type": "integer"
        },
        "imaging_depth_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/SizeUnit"
            }
          ],
          "default": "micrometer",
          "title": "Imaging depth unit"
        },
        "targeted_structure": {
          "title": "Targeted structure",
          "type": "string"
        },
        "fov_coordinate_ml": {
          "title": "FOV coordinate ML",
          "type": "string"
        },
        "fov_coordinate_ap": {
          "title": "FOV coordinate AP",
          "type": "string"
        },
        "fov_coordinate_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/SizeUnit"
            }
          ],
          "default": "micrometer",
          "title": "FOV coordinate unit"
        },
        "fov_reference": {
          "description": "Reference for ML/AP coordinates",
          "title": "FOV reference",
          "type": "string"
        },
        "fov_width": {
          "title": "FOV width (pixels)",
          "type": "integer"
        },
        "fov_height": {
          "title": "FOV height (pixels)",
          "type": "integer"
        },
        "fov_size_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/SizeUnit"
            }
          ],
          "default": "pixel",
          "title": "FOV size unit"
        },
        "magnification": {
          "title": "Magnification",
          "type": "string"
        },
        "fov_scale_factor": {
          "title": "FOV scale factor (um/pixel)",
          "type": "string"
        },
        "fov_scale_factor_unit": {
          "default": "um/pixel",
          "title": "FOV scale factor unit",
          "type": "string"
        },
        "frame_rate": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Frame rate (Hz)"
        },
        "frame_rate_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/FrequencyUnit"
            }
          ],
          "default": "hertz",
          "title": "Frame rate unit"
        },
        "coupled_fov_index": {
          "default": null,
          "description": "Coupled planes for multiscope",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "title": "Coupled FOV"
        }
      },
      "required": [
        "index",
        "imaging_depth",
        "targeted_structure",
        "fov_coordinate_ml",
        "fov_coordinate_ap",
        "fov_reference",
        "fov_width",
        "fov_height",
        "magnification",
        "fov_scale_factor"
      ],
      "title": "FieldOfView",
      "type": "object"
    },
    "Fmost": {
      "additionalProperties": false,
      "description": "Fmost",
      "properties": {
        "name": {
          "const": "Fluorescence micro-optical sectioning tomography",
          "default": "Fluorescence micro-optical sectioning tomography",
          "title": "Name",
          "type": "string"
        },
        "abbreviation": {
          "const": "fMOST",
          "default": "fMOST",
          "title": "Abbreviation",
          "type": "string"
        }
      },
      "title": "Fmost",
      "type": "object"
    },
    "FrequencyUnit": {
      "description": "Enumeration of Frequency Measurements",
      "enum": [
        "kilohertz",
        "hertz",
        "millihertz"
      ],
      "title": "FrequencyUnit",
      "type": "string"
    },
    "Icephys": {
      "additionalProperties": false,
      "description": "Icephys",
      "properties": {
        "name": {
          "const": "Intracellular electrophysiology",
          "default": "Intracellular electrophysiology",
          "title": "Name",
          "type": "string"
        },
        "abbreviation": {
          "const": "icephys",
          "default": "icephys",
          "title": "Abbreviation",
          "type": "string"
        }
      },
      "title": "Icephys",
      "type": "object"
    },
    "Isi": {
      "additionalProperties": false,
      "description": "Intrinsic signal imaging",
      "properties": {
        "name": {
          "const": "Intrinsic signal imaging",
          "default": "Intrinsic signal imaging",
          "title": "Name",
          "type": "string"
        },
        "abbreviation": {
          "const": "ISI",
          "default": "ISI",
          "title": "Abbreviation",
          "type": "string"
        }
      },
      "title": "Isi",
      "type": "object"
    },
    "LaserConfig": {
      "additionalProperties": false,
      "description": "Description of laser settings in a session",
      "properties": {
        "device_type": {
          "const": "Laser",
          "default": "Laser",
          "title": "Device Type",
          "type": "string"
        },
        "name": {
          "description": "Must match rig json",
          "title": "Name",
          "type": "string"
        },
        "wavelength": {
          "title": "Wavelength (nm)",
          "type": "integer"
        },
        "wavelength_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/SizeUnit"
            }
          ],
          "default": "nanometer",
          "title": "Wavelength unit"
        },
        "excitation_power": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Excitation power (mW)"
        },
        "excitation_power_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/PowerUnit"
            }
          ],
          "default": "milliwatt",
          "title": "Excitation power unit"
        }
      },
      "required": [
        "name",
        "wavelength"
      ],
      "title": "LaserConfig",
      "type": "object"
    },
    "LightEmittingDiodeConfig": {
      "additionalProperties": false,
      "description": "Description of LED settings",
      "properties": {
        "device_type": {
          "const": "LightEmittingDiode",
          "default": "LightEmittingDiode",
          "title": "Device Type",
          "type": "string"
        },
        "name": {
          "title": "Name",
          "type": "string"
        },
        "excitation_power": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Excitation power (mW)"
        },
        "excitation_power_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/PowerUnit"
            }
          ],
          "default": "milliwatt",
          "title": "Excitation power unit"
        }
      },
      "required": [
        "name"
      ],
      "title": "LightEmittingDiodeConfig",
      "type": "object"
    },
    "Maintenance": {
      "additionalProperties": false,
      "description": "Generic maintenance class",
      "properties": {
        "maintenance_date": {
          "format": "date-time",
          "title": "Date and time of maintenance",
          "type": "string"
        },
        "device_name": {
          "description": "Must match a device name in rig/instrument",
          "title": "Device name",
          "type": "string"
        },
        "description": {
          "description": "Description on maintenance procedure",
          "title": "Description",
          "type": "string"
        },
        "protocol_id": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Protocol ID"
        },
        "reagents": {
          "default": [],
          "items": {
            "$ref": "#/definitions/Reagent"
          },
          "title": "Reagents",
          "type": "array"
        },
        "notes": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Notes"
        }
      },
      "required": [
        "maintenance_date",
        "device_name",
        "description"
      ],
      "title": "Maintenance",
      "type": "object"
    },
    "ManipulatorModule": {
      "additionalProperties": false,
      "description": "A dome module connected to a 3-axis manipulator",
      "properties": {
        "assembly_name": {
          "title": "Assembly name",
          "type": "string"
        },
        "arc_angle": {
          "title": "Arc Angle (deg)",
          "type": "string"
        },
        "module_angle": {
          "title": "Module Angle (deg)",
          "type": "string"
        },
        "angle_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/AngleUnit"
            }
          ],
          "default": "degrees",
          "title": "Angle unit"
        },
        "rotation_angle": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Rotation Angle (deg)"
        },
        "coordinate_transform": {
          "default": null,
          "description": "Path to coordinate transform",
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Transform from local manipulator axes to rig"
        },
        "calibration_date": {
          "default": null,
          "oneOf": [
            {
              "format": "date-time",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Date on which coordinate transform was last calibrated"
        },
        "notes": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Notes"
        },
        "primary_targeted_structure": {
          "title": "Targeted structure",
          "type": "string"
        },
        "targeted_ccf_coordinates": {
          "default": [],
          "items": {
            "$ref": "#/definitions/CcfCoords"
          },
          "title": "Targeted CCF coordinates",
          "type": "array"
        },
        "manipulator_coordinates": {
          "allOf": [
            {
              "$ref": "#/definitions/Coordinates3d"
            }
          ],
          "title": "Manipulator coordinates"
        }
      },
      "required": [
        "assembly_name",
        "arc_angle",
        "module_angle",
        "primary_targeted_structure",
        "manipulator_coordinates"
      ],
      "title": "ManipulatorModule",
      "type": "object"
    },
    "MassUnit": {
      "description": "Enumeration of Mass Measurements",
      "enum": [
        "kilogram",
        "gram",
        "milligram",
        "microgram",
        "nanogram"
      ],
      "title": "MassUnit",
      "type": "string"
    },
    "Merfish": {
      "additionalProperties": false,
      "description": "Merfish",
      "properties": {
        "name": {
          "const": "Multiplexed error-robust fluorescence in situ hybridization",
          "default": "Multiplexed error-robust fluorescence in situ hybridization",
          "title": "Name",
          "type": "string"
        },
        "abbreviation": {
          "const": "merfish",
          "default": "merfish",
          "title": "Abbreviation",
          "type": "string"
        }
      },
      "title": "Merfish",
      "type": "object"
    },
    "Metadata": {
      "additionalProperties": false,
      "properties": {
        "experiment": {
          "description": "Name of the experiment",
          "title": "Experiment",
          "type": "string"
        },
        "root_path": {
          "description": "Root path where data will be logged",
          "title": "Root Path",
          "type": "string"
        },
        "remote_path": {
          "default": null,
          "description": "Remote path where data will be attempted to be copied to after experiment is done",
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Remote Path"
        },
        "subject": {
          "description": "Name of the subject",
          "title": "Subject",
          "type": "string"
        },
        "version": {
          "description": "Version of the experiment",
          "title": "Version",
          "type": "string"
        },
        "rng_seed": {
          "default": null,
          "description": "Seed of the random number generator",
          "oneOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "title": "Rng Seed"
        },
        "notes": {
          "default": null,
          "description": "Notes about the experiment",
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Notes"
        },
        "commit_hash": {
          "default": null,
          "description": "Commit hash of the repository",
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Commit Hash"
        },
        "allow_dirty_repo": {
          "default": false,
          "description": "Allow running from a dirty repository",
          "title": "Allow Dirty Repo",
          "type": "boolean"
        },
        "skip_hardware_validation": {
          "default": false,
          "description": "Skip hardware validation",
          "title": "Skip Hardware Validation",
          "type": "boolean"
        }
      },
      "required": [
        "experiment",
        "root_path",
        "subject",
        "version"
      ],
      "title": "Metadata",
      "type": "object"
    },
    "Mri": {
      "additionalProperties": false,
      "description": "Mri",
      "properties": {
        "name": {
          "const": "Magnetic resonance imaging",
          "default": "Magnetic resonance imaging",
          "title": "Name",
          "type": "string"
        },
        "abbreviation": {
          "const": "MRI",
          "default": "MRI",
          "title": "Abbreviation",
          "type": "string"
        }
      },
      "title": "Mri",
      "type": "object"
    },
    "OlfactometerChannelConfig": {
      "additionalProperties": false,
      "description": "Description of olfactometer channel configurations",
      "properties": {
        "channel_index": {
          "title": "Channel index",
          "type": "integer"
        },
        "odorant": {
          "title": "Odorant",
          "type": "string"
        },
        "odorant_dilution": {
          "title": "Odorant dilution",
          "type": "string"
        },
        "odorant_dilution_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/ConcentrationUnit"
            }
          ],
          "default": "% v/v",
          "title": "Dilution unit"
        }
      },
      "required": [
        "channel_index",
        "odorant",
        "odorant_dilution"
      ],
      "title": "OlfactometerChannelConfig",
      "type": "object"
    },
    "OlfactoryStimulation": {
      "additionalProperties": false,
      "description": "Description of a olfactory stimulus",
      "properties": {
        "stimulus_type": {
          "const": "Olfactory",
          "default": "Olfactory",
          "title": "Stimulus Type",
          "type": "string"
        },
        "channels": {
          "items": {
            "$ref": "#/definitions/OlfactometerChannelConfig"
          },
          "title": "Channels",
          "type": "array"
        }
      },
      "required": [
        "channels"
      ],
      "title": "OlfactoryStimulation",
      "type": "object"
    },
    "OptoStimulation": {
      "additionalProperties": false,
      "description": "Description of opto stimulation parameters",
      "properties": {
        "stimulus_type": {
          "const": "Opto Stimulation",
          "default": "Opto Stimulation",
          "title": "Stimulus Type",
          "type": "string"
        },
        "stimulus_name": {
          "title": "Stimulus name",
          "type": "string"
        },
        "pulse_shape": {
          "allOf": [
            {
              "$ref": "#/definitions/PulseShape"
            }
          ],
          "title": "Pulse shape"
        },
        "pulse_frequency": {
          "title": "Pulse frequency (Hz)",
          "type": "integer"
        },
        "pulse_frequency_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/FrequencyUnit"
            }
          ],
          "default": "hertz",
          "title": "Pulse frequency unit"
        },
        "number_pulse_trains": {
          "title": "Number of pulse trains",
          "type": "integer"
        },
        "pulse_width": {
          "title": "Pulse width (ms)",
          "type": "integer"
        },
        "pulse_width_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/TimeUnit"
            }
          ],
          "default": "millisecond",
          "title": "Pulse width unit"
        },
        "pulse_train_duration": {
          "title": "Pulse train duration (s)",
          "type": "string"
        },
        "pulse_train_duration_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/TimeUnit"
            }
          ],
          "default": "second",
          "title": "Pulse train duration unit"
        },
        "fixed_pulse_train_interval": {
          "title": "Fixed pulse train interval",
          "type": "boolean"
        },
        "pulse_train_interval": {
          "default": null,
          "description": "Time between pulse trains",
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Pulse train interval (s)"
        },
        "pulse_train_interval_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/TimeUnit"
            }
          ],
          "default": "second",
          "title": "Pulse train interval unit"
        },
        "baseline_duration": {
          "description": "Duration of baseline recording prior to first pulse train",
          "title": "Baseline duration (s)",
          "type": "string"
        },
        "baseline_duration_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/TimeUnit"
            }
          ],
          "default": "second",
          "title": "Baseline duration unit"
        },
        "other_parameters": {
          "default": {},
          "title": "Other Parameters",
          "type": "object"
        },
        "notes": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Notes"
        }
      },
      "required": [
        "stimulus_name",
        "pulse_shape",
        "pulse_frequency",
        "number_pulse_trains",
        "pulse_width",
        "pulse_train_duration",
        "fixed_pulse_train_interval",
        "baseline_duration"
      ],
      "title": "OptoStimulation",
      "type": "object"
    },
    "PIDName": {
      "additionalProperties": false,
      "description": "Model for associate a name with a persistent identifier (PID),\nthe registry for that PID, and abbreviation for that registry",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "abbreviation": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Abbreviation"
        },
        "registry": {
          "default": null,
          "oneOf": [
            {
              "$ref": "#/definitions/BaseName"
            },
            {
              "type": "null"
            }
          ],
          "title": "Registry"
        },
        "registry_identifier": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Registry identifier"
        }
      },
      "required": [
        "name"
      ],
      "title": "PIDName",
      "type": "object"
    },
    "POphys": {
      "additionalProperties": false,
      "description": "POphys",
      "properties": {
        "name": {
          "const": "Planar optical physiology",
          "default": "Planar optical physiology",
          "title": "Name",
          "type": "string"
        },
        "abbreviation": {
          "const": "ophys",
          "default": "ophys",
          "title": "Abbreviation",
          "type": "string"
        }
      },
      "title": "POphys",
      "type": "object"
    },
    "PhotoStimulation": {
      "additionalProperties": false,
      "description": "Description of a photostimulation session",
      "properties": {
        "stimulus_type": {
          "const": "Photo Stimulation",
          "default": "Photo Stimulation",
          "title": "Stimulus Type",
          "type": "string"
        },
        "stimulus_name": {
          "title": "Stimulus name",
          "type": "string"
        },
        "number_groups": {
          "title": "Number of groups",
          "type": "integer"
        },
        "groups": {
          "items": {
            "$ref": "#/definitions/PhotoStimulationGroup"
          },
          "title": "Groups",
          "type": "array"
        },
        "inter_trial_interval": {
          "title": "Inter trial interval (s)",
          "type": "string"
        },
        "inter_trial_interval_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/TimeUnit"
            }
          ],
          "default": "second",
          "title": "Inter trial interval unit"
        },
        "other_parameters": {
          "default": {},
          "title": "Other Parameters",
          "type": "object"
        },
        "notes": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Notes"
        }
      },
      "required": [
        "stimulus_name",
        "number_groups",
        "groups",
        "inter_trial_interval"
      ],
      "title": "PhotoStimulation",
      "type": "object"
    },
    "PhotoStimulationGroup": {
      "additionalProperties": false,
      "description": "Description of a photostimulation group",
      "properties": {
        "group_index": {
          "title": "Group index",
          "type": "integer"
        },
        "number_of_neurons": {
          "title": "Number of neurons",
          "type": "integer"
        },
        "stimulation_laser_power": {
          "title": "Stimulation laser power (mW)",
          "type": "string"
        },
        "stimulation_laser_power_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/PowerUnit"
            }
          ],
          "default": "milliwatt",
          "title": "Stimulation laser power unit"
        },
        "number_trials": {
          "title": "Number of trials",
          "type": "integer"
        },
        "number_spirals": {
          "title": "Number of spirals",
          "type": "integer"
        },
        "spiral_duration": {
          "title": "Spiral duration (s)",
          "type": "string"
        },
        "spiral_duration_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/TimeUnit"
            }
          ],
          "default": "second",
          "title": "Spiral duration unit"
        },
        "inter_spiral_interval": {
          "title": "Inter trial interval (s)",
          "type": "string"
        },
        "inter_spiral_interval_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/TimeUnit"
            }
          ],
          "default": "second",
          "title": "Inter trial interval unit"
        },
        "other_parameters": {
          "default": {},
          "title": "Other Parameters",
          "type": "object"
        },
        "notes": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Notes"
        }
      },
      "required": [
        "group_index",
        "number_of_neurons",
        "stimulation_laser_power",
        "number_trials",
        "number_spirals",
        "spiral_duration",
        "inter_spiral_interval"
      ],
      "title": "PhotoStimulationGroup",
      "type": "object"
    },
    "PowerUnit": {
      "description": "Unit for power, set or measured",
      "enum": [
        "microwatt",
        "milliwatt",
        "percent"
      ],
      "title": "PowerUnit",
      "type": "string"
    },
    "PulseShape": {
      "description": "Types of Opto stim pulse shapes",
      "enum": [
        "Square",
        "Ramp",
        "Sinusoidal"
      ],
      "title": "PulseShape",
      "type": "string"
    },
    "Reagent": {
      "additionalProperties": false,
      "description": "Description of reagent used in procedure",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "source": {
          "title": "Source",
          "type": "string"
        },
        "rrid": {
          "default": null,
          "oneOf": [
            {
              "$ref": "#/definitions/PIDName"
            },
            {
              "type": "null"
            }
          ],
          "title": "Research Resource ID"
        },
        "lot_number": {
          "title": "Lot number",
          "type": "string"
        },
        "expiration_date": {
          "default": null,
          "oneOf": [
            {
              "format": "date",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Lot expiration date"
        }
      },
      "required": [
        "name",
        "source",
        "lot_number"
      ],
      "title": "Reagent",
      "type": "object"
    },
    "RelativePosition": {
      "additionalProperties": false,
      "description": "Set of 6 values describing relative position on a rig",
      "properties": {
        "pitch": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Angle pitch (deg)"
        },
        "yaw": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Angle yaw (deg)"
        },
        "roll": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Angle roll (deg)"
        },
        "angle_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/AngleUnit"
            }
          ],
          "default": "degrees",
          "title": "Angle unit"
        },
        "x": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Position X (mm)"
        },
        "y": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Position Y (mm)"
        },
        "z": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Position Z (mm)"
        },
        "position_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/SizeUnit"
            }
          ],
          "default": "millimeter",
          "title": "Position unit"
        },
        "coordinate_system": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Description of the coordinate system used"
        }
      },
      "title": "RelativePosition",
      "type": "object"
    },
    "RewardDeliveryConfig": {
      "additionalProperties": false,
      "description": "Description of reward delivery configuration",
      "properties": {
        "reward_solution": {
          "allOf": [
            {
              "$ref": "#/definitions/RewardSolution"
            }
          ],
          "description": "If Other use notes",
          "title": "Reward solution"
        },
        "reward_spouts": {
          "items": {
            "$ref": "#/definitions/RewardSpoutConfig"
          },
          "title": "Reward spouts",
          "type": "array"
        },
        "notes": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Notes"
        }
      },
      "required": [
        "reward_solution",
        "reward_spouts"
      ],
      "title": "RewardDeliveryConfig",
      "type": "object"
    },
    "RewardSolution": {
      "description": "Reward solution name",
      "enum": [
        "Water",
        "Other"
      ],
      "title": "RewardSolution",
      "type": "string"
    },
    "RewardSpoutConfig": {
      "additionalProperties": false,
      "description": "Reward spout session information",
      "properties": {
        "side": {
          "allOf": [
            {
              "$ref": "#/definitions/SpoutSide"
            }
          ],
          "description": "Must match rig",
          "title": "Spout side"
        },
        "starting_position": {
          "allOf": [
            {
              "$ref": "#/definitions/RelativePosition"
            }
          ],
          "title": "Starting position"
        },
        "variable_position": {
          "description": "True if spout position changes during session as tracked in data",
          "title": "Variable position",
          "type": "boolean"
        }
      },
      "required": [
        "side",
        "starting_position",
        "variable_position"
      ],
      "title": "RewardSpoutConfig",
      "type": "object"
    },
    "Session": {
      "additionalProperties": false,
      "description": "Description of a physiology and/or behavior session",
      "properties": {
        "describedBy": {
          "const": "https://raw.githubusercontent.com/AllenNeuralDynamics/aind-data-schema/main/src/aind_data_schema/core/session.py",
          "default": "https://raw.githubusercontent.com/AllenNeuralDynamics/aind-data-schema/main/src/aind_data_schema/core/session.py",
          "title": "Describedby",
          "type": "string"
        },
        "schema_version": {
          "const": "0.1.2",
          "default": "0.1.2",
          "title": "Schema Version",
          "type": "string"
        },
        "experimenter_full_name": {
          "description": "First and last name of the experimenter(s).",
          "items": {
            "type": "string"
          },
          "title": "Experimenter(s) full name",
          "type": "array"
        },
        "session_start_time": {
          "format": "date-time",
          "title": "Session start time",
          "type": "string"
        },
        "session_end_time": {
          "default": null,
          "oneOf": [
            {
              "format": "date-time",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Session end time"
        },
        "session_type": {
          "title": "Session type",
          "type": "string"
        },
        "iacuc_protocol": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "IACUC protocol"
        },
        "rig_id": {
          "title": "Rig ID",
          "type": "string"
        },
        "calibrations": {
          "default": [],
          "description": "Calibrations of rig devices prior to session",
          "items": {
            "$ref": "#/definitions/Calibration"
          },
          "title": "Calibrations",
          "type": "array"
        },
        "maintenance": {
          "default": [],
          "description": "Maintenance of rig devices prior to session",
          "items": {
            "$ref": "#/definitions/Maintenance"
          },
          "title": "Maintenance",
          "type": "array"
        },
        "subject_id": {
          "title": "Subject ID",
          "type": "string"
        },
        "animal_weight_prior": {
          "default": null,
          "description": "Animal weight before procedure",
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Animal weight (g)"
        },
        "animal_weight_post": {
          "default": null,
          "description": "Animal weight after procedure",
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Animal weight (g)"
        },
        "weight_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/MassUnit"
            }
          ],
          "default": "gram",
          "title": "Weight unit"
        },
        "data_streams": {
          "description": "A data stream is a collection of devices that are recorded simultaneously. Each session can include multiple streams (e.g., if the manipulators are moved to a new location)",
          "items": {
            "$ref": "#/definitions/Stream"
          },
          "title": "Data streams",
          "type": "array"
        },
        "stimulus_epochs": {
          "default": [],
          "items": {
            "$ref": "#/definitions/StimulusEpoch"
          },
          "title": "Stimulus",
          "type": "array"
        },
        "reward_delivery": {
          "default": null,
          "oneOf": [
            {
              "$ref": "#/definitions/RewardDeliveryConfig"
            },
            {
              "type": "null"
            }
          ],
          "title": "Reward delivery"
        },
        "reward_consumed_total": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Total reward consumed (uL)"
        },
        "reward_consumed_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/VolumeUnit"
            }
          ],
          "default": "microliter",
          "title": "Reward consumed unit"
        },
        "notes": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Notes"
        }
      },
      "required": [
        "experimenter_full_name",
        "session_start_time",
        "session_type",
        "rig_id",
        "subject_id",
        "data_streams"
      ],
      "title": "Session",
      "type": "object"
    },
    "SizeUnit": {
      "description": "Enumeration of Length Measurements",
      "enum": [
        "meter",
        "centimeter",
        "millimeter",
        "micrometer",
        "nanometer",
        "inch",
        "pixel"
      ],
      "title": "SizeUnit",
      "type": "string"
    },
    "Slap": {
      "additionalProperties": false,
      "description": "Slap",
      "properties": {
        "name": {
          "const": "Scanned line projection imaging",
          "default": "Scanned line projection imaging",
          "title": "Name",
          "type": "string"
        },
        "abbreviation": {
          "const": "slap",
          "default": "slap",
          "title": "Abbreviation",
          "type": "string"
        }
      },
      "title": "Slap",
      "type": "object"
    },
    "SlapFieldOfView": {
      "additionalProperties": false,
      "description": "Description of a Slap2 scan",
      "properties": {
        "index": {
          "title": "Index",
          "type": "integer"
        },
        "imaging_depth": {
          "title": "Imaging depth (um)",
          "type": "integer"
        },
        "imaging_depth_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/SizeUnit"
            }
          ],
          "default": "micrometer",
          "title": "Imaging depth unit"
        },
        "targeted_structure": {
          "title": "Targeted structure",
          "type": "string"
        },
        "fov_coordinate_ml": {
          "title": "FOV coordinate ML",
          "type": "string"
        },
        "fov_coordinate_ap": {
          "title": "FOV coordinate AP",
          "type": "string"
        },
        "fov_coordinate_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/SizeUnit"
            }
          ],
          "default": "micrometer",
          "title": "FOV coordinate unit"
        },
        "fov_reference": {
          "description": "Reference for ML/AP coordinates",
          "title": "FOV reference",
          "type": "string"
        },
        "fov_width": {
          "title": "FOV width (pixels)",
          "type": "integer"
        },
        "fov_height": {
          "title": "FOV height (pixels)",
          "type": "integer"
        },
        "fov_size_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/SizeUnit"
            }
          ],
          "default": "pixel",
          "title": "FOV size unit"
        },
        "magnification": {
          "title": "Magnification",
          "type": "string"
        },
        "fov_scale_factor": {
          "title": "FOV scale factor (um/pixel)",
          "type": "string"
        },
        "fov_scale_factor_unit": {
          "default": "um/pixel",
          "title": "FOV scale factor unit",
          "type": "string"
        },
        "frame_rate": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Frame rate (Hz)"
        },
        "frame_rate_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/FrequencyUnit"
            }
          ],
          "default": "hertz",
          "title": "Frame rate unit"
        },
        "coupled_fov_index": {
          "default": null,
          "description": "Coupled planes for multiscope",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "title": "Coupled FOV"
        },
        "session_type": {
          "allOf": [
            {
              "$ref": "#/definitions/SlapSessionType"
            }
          ],
          "title": "Session type"
        },
        "dmd_dilation_x": {
          "title": "DMD Dilation X (pixels)",
          "type": "integer"
        },
        "dmd_dilation_y": {
          "title": "DMD Dilation Y (pixels)",
          "type": "integer"
        },
        "dilation_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/SizeUnit"
            }
          ],
          "default": "pixel",
          "title": "Dilation unit"
        },
        "target_neuron": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Target neuron"
        },
        "target_branch": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Target branch"
        },
        "path_to_array_of_frame_rates": {
          "title": "Array of frame rates",
          "type": "string"
        }
      },
      "required": [
        "index",
        "imaging_depth",
        "targeted_structure",
        "fov_coordinate_ml",
        "fov_coordinate_ap",
        "fov_reference",
        "fov_width",
        "fov_height",
        "magnification",
        "fov_scale_factor",
        "session_type",
        "dmd_dilation_x",
        "dmd_dilation_y",
        "path_to_array_of_frame_rates"
      ],
      "title": "SlapFieldOfView",
      "type": "object"
    },
    "SlapSessionType": {
      "description": "Type of slap session",
      "enum": [
        "Parent",
        "Branch"
      ],
      "title": "SlapSessionType",
      "type": "string"
    },
    "Software": {
      "additionalProperties": false,
      "description": "Description of generic software",
      "properties": {
        "name": {
          "title": "Software name",
          "type": "string"
        },
        "version": {
          "title": "Software version",
          "type": "string"
        },
        "url": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "URL to commit being used"
        },
        "parameters": {
          "default": {},
          "title": "Software parameters",
          "type": "object"
        }
      },
      "required": [
        "name",
        "version"
      ],
      "title": "Software",
      "type": "object"
    },
    "Spim": {
      "additionalProperties": false,
      "description": "Spim",
      "properties": {
        "name": {
          "const": "Selective plane illumination microscopy",
          "default": "Selective plane illumination microscopy",
          "title": "Name",
          "type": "string"
        },
        "abbreviation": {
          "const": "SPIM",
          "default": "SPIM",
          "title": "Abbreviation",
          "type": "string"
        }
      },
      "title": "Spim",
      "type": "object"
    },
    "SpoutSide": {
      "description": "Spout sides",
      "enum": [
        "Left",
        "Right",
        "Center",
        "Other"
      ],
      "title": "SpoutSide",
      "type": "string"
    },
    "Stack": {
      "additionalProperties": false,
      "description": "Description of a two photon stack",
      "properties": {
        "channels": {
          "items": {
            "$ref": "#/definitions/StackChannel"
          },
          "title": "Channels",
          "type": "array"
        },
        "number_of_planes": {
          "title": "Number of planes",
          "type": "integer"
        },
        "step_size": {
          "title": "Step size (um)",
          "type": "number"
        },
        "step_size_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/SizeUnit"
            }
          ],
          "default": "micrometer",
          "title": "Step size unit"
        },
        "number_of_plane_repeats_per_volume": {
          "title": "Number of repeats per volume",
          "type": "integer"
        },
        "number_of_volume_repeats": {
          "title": "Number of volume repeats",
          "type": "integer"
        },
        "fov_coordinate_ml": {
          "title": "FOV coordinate ML",
          "type": "number"
        },
        "fov_coordinate_ap": {
          "title": "FOV coordinate AP",
          "type": "number"
        },
        "fov_coordinate_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/SizeUnit"
            }
          ],
          "default": "micrometer",
          "title": "FOV coordinate unit"
        },
        "fov_reference": {
          "description": "Reference for ML/AP coordinates",
          "title": "FOV reference",
          "type": "string"
        },
        "fov_width": {
          "title": "FOV width (pixels)",
          "type": "integer"
        },
        "fov_height": {
          "title": "FOV height (pixels)",
          "type": "integer"
        },
        "fov_size_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/SizeUnit"
            }
          ],
          "default": "pixel",
          "title": "FOV size unit"
        },
        "magnification": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Magnification"
        },
        "fov_scale_factor": {
          "title": "FOV scale factor (um/pixel)",
          "type": "number"
        },
        "fov_scale_factor_unit": {
          "default": "um/pixel",
          "title": "FOV scale factor unit",
          "type": "string"
        },
        "frame_rate": {
          "title": "Frame rate (Hz)",
          "type": "string"
        },
        "frame_rate_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/FrequencyUnit"
            }
          ],
          "default": "hertz",
          "title": "Frame rate unit"
        },
        "targeted_structure": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Targeted structure"
        }
      },
      "required": [
        "channels",
        "number_of_planes",
        "step_size",
        "number_of_plane_repeats_per_volume",
        "number_of_volume_repeats",
        "fov_coordinate_ml",
        "fov_coordinate_ap",
        "fov_reference",
        "fov_width",
        "fov_height",
        "fov_scale_factor",
        "frame_rate"
      ],
      "title": "Stack",
      "type": "object"
    },
    "StackChannel": {
      "additionalProperties": false,
      "description": "Description of a Channel used in a Stack",
      "properties": {
        "channel_name": {
          "title": "Channel",
          "type": "string"
        },
        "light_source_name": {
          "description": "Must match device name",
          "title": "Light source name",
          "type": "string"
        },
        "filter_names": {
          "description": "Must match device names",
          "items": {
            "type": "string"
          },
          "title": "Filter names",
          "type": "array"
        },
        "detector_name": {
          "description": "Must match device name",
          "title": "Detector name",
          "type": "string"
        },
        "additional_device_names": {
          "default": [],
          "items": {
            "type": "string"
          },
          "title": "Additional device names",
          "type": "array"
        },
        "excitation_wavelength": {
          "maximum": 1000,
          "minimum": 300,
          "title": "Wavelength",
          "type": "integer"
        },
        "excitation_wavelength_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/SizeUnit"
            }
          ],
          "default": "nanometer",
          "title": "Laser wavelength unit"
        },
        "excitation_power": {
          "maximum": 2000.0,
          "title": "Laser power",
          "type": "number"
        },
        "excitation_power_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/PowerUnit"
            }
          ],
          "default": "milliwatt",
          "title": "Laser power unit"
        },
        "filter_wheel_index": {
          "title": "Filter wheel index",
          "type": "integer"
        },
        "dilation": {
          "default": null,
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "title": "Dilation (pixels)"
        },
        "dilation_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/SizeUnit"
            }
          ],
          "default": "pixel",
          "title": "Dilation unit"
        },
        "description": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Description"
        },
        "start_depth": {
          "title": "Starting depth (um)",
          "type": "integer"
        },
        "end_depth": {
          "title": "Ending depth (um)",
          "type": "integer"
        },
        "depth_unit": {
          "allOf": [
            {
              "$ref": "#/definitions/SizeUnit"
            }
          ],
          "default": "micrometer",
          "title": "Depth unit"
        }
      },
      "required": [
        "channel_name",
        "light_source_name",
        "filter_names",
        "detector_name",
        "excitation_wavelength",
        "excitation_power",
        "filter_wheel_index",
        "start_depth",
        "end_depth"
      ],
      "title": "StackChannel",
      "type": "object"
    },
    "StimulusEpoch": {
      "additionalProperties": false,
      "description": "Description of stimulus used during session",
      "properties": {
        "stimulus": {
          "discriminator": {
            "mapping": {
              "Behavior": "#/definitions/BehaviorStimulation",
              "Olfactory": "#/definitions/OlfactoryStimulation",
              "Opto Stimulation": "#/definitions/OptoStimulation",
              "Photo Stimulation": "#/definitions/PhotoStimulation",
              "Visual": "#/definitions/VisualStimulation"
            },
            "propertyName": "stimulus_type"
          },
          "oneOf": [
            {
              "$ref": "#/definitions/OlfactoryStimulation"
            },
            {
              "$ref": "#/definitions/OptoStimulation"
            },
            {
              "$ref": "#/definitions/VisualStimulation"
            },
            {
              "$ref": "#/definitions/BehaviorStimulation"
            },
            {
              "$ref": "#/definitions/PhotoStimulation"
            }
          ],
          "title": "Stimulus"
        },
        "stimulus_start_time": {
          "description": "When a specific stimulus begins. This might be the same as the session start time.",
          "format": "date-time",
          "title": "Stimulus start time",
          "type": "string"
        },
        "stimulus_end_time": {
          "description": "When a specific stimulus ends. This might be the same as the session end time.",
          "format": "date-time",
          "title": "Stimulus end time",
          "type": "string"
        }
      },
      "required": [
        "stimulus",
        "stimulus_start_time",
        "stimulus_end_time"
      ],
      "title": "StimulusEpoch",
      "type": "object"
    },
    "Stream": {
      "additionalProperties": false,
      "description": "Data streams with a start and stop time",
      "properties": {
        "stream_start_time": {
          "format": "date-time",
          "title": "Stream start time",
          "type": "string"
        },
        "stream_end_time": {
          "format": "date-time",
          "title": "Stream stop time",
          "type": "string"
        },
        "daq_names": {
          "default": [],
          "items": {
            "type": "string"
          },
          "title": "DAQ devices",
          "type": "array"
        },
        "camera_names": {
          "default": [],
          "items": {
            "type": "string"
          },
          "title": "Cameras",
          "type": "array"
        },
        "light_sources": {
          "default": [],
          "items": {
            "discriminator": {
              "mapping": {
                "Laser": "#/definitions/LaserConfig",
                "LightEmittingDiode": "#/definitions/LightEmittingDiodeConfig"
              },
              "propertyName": "device_type"
            },
            "oneOf": [
              {
                "$ref": "#/definitions/LightEmittingDiodeConfig"
              },
              {
                "$ref": "#/definitions/LaserConfig"
              }
            ]
          },
          "title": "Light Sources",
          "type": "array"
        },
        "ephys_modules": {
          "default": [],
          "items": {
            "$ref": "#/definitions/EphysModule"
          },
          "title": "Ephys modules",
          "type": "array"
        },
        "stick_microscopes": {
          "default": [],
          "description": "Must match stick microscope assemblies in rig file",
          "items": {
            "$ref": "#/definitions/DomeModule"
          },
          "title": "Stick microscopes",
          "type": "array"
        },
        "manipulator_modules": {
          "default": [],
          "items": {
            "$ref": "#/definitions/ManipulatorModule"
          },
          "title": "Manipulator modules",
          "type": "array"
        },
        "detectors": {
          "default": [],
          "items": {
            "$ref": "#/definitions/DetectorConfig"
          },
          "title": "Detectors",
          "type": "array"
        },
        "fiber_connections": {
          "default": [],
          "items": {
            "$ref": "#/definitions/FiberConnectionConfig"
          },
          "title": "Implanted fiber photometry devices",
          "type": "array"
        },
        "fiber_modules": {
          "default": [],
          "items": {
            "$ref": "#/definitions/FiberModule"
          },
          "title": "Inserted fiber modules",
          "type": "array"
        },
        "ophys_fovs": {
          "default": [],
          "items": {
            "$ref": "#/definitions/FieldOfView"
          },
          "title": "Fields of view",
          "type": "array"
        },
        "slap_fovs": {
          "default": null,
          "oneOf": [
            {
              "$ref": "#/definitions/SlapFieldOfView"
            },
            {
              "type": "null"
            }
          ],
          "title": "Slap2 field of view"
        },
        "stack_parameters": {
          "default": null,
          "oneOf": [
            {
              "$ref": "#/definitions/Stack"
            },
            {
              "type": "null"
            }
          ],
          "title": "Stack parameters"
        },
        "stimulus_device_names": {
          "default": [],
          "items": {
            "type": "string"
          },
          "title": "Stimulus devices",
          "type": "array"
        },
        "mouse_platform_name": {
          "title": "Mouse platform",
          "type": "string"
        },
        "active_mouse_platform": {
          "title": "Active mouse platform",
          "type": "boolean"
        },
        "stream_modalities": {
          "items": {
            "discriminator": {
              "mapping": {
                "Behavior videos": "#/definitions/BehaviorVideos",
                "Confocal microscopy": "#/definitions/Confocal",
                "Electromyography": "#/definitions/Electromyography",
                "Extracellular electrophysiology": "#/definitions/Ecephys",
                "Fiber photometry": "#/definitions/Fib",
                "Fluorescence micro-optical sectioning tomography": "#/definitions/Fmost",
                "Intracellular electrophysiology": "#/definitions/Icephys",
                "Intrinsic signal imaging": "#/definitions/Isi",
                "Magnetic resonance imaging": "#/definitions/Mri",
                "Multiplexed error-robust fluorescence in situ hybridization": "#/definitions/Merfish",
                "Planar optical physiology": "#/definitions/POphys",
                "Scanned line projection imaging": "#/definitions/Slap",
                "Selective plane illumination microscopy": "#/definitions/Spim",
                "Trained behavior": "#/definitions/TrainedBehavior"
              },
              "propertyName": "name"
            },
            "oneOf": [
              {
                "$ref": "#/definitions/BehaviorVideos"
              },
              {
                "$ref": "#/definitions/Confocal"
              },
              {
                "$ref": "#/definitions/Ecephys"
              },
              {
                "$ref": "#/definitions/Electromyography"
              },
              {
                "$ref": "#/definitions/Fmost"
              },
              {
                "$ref": "#/definitions/Icephys"
              },
              {
                "$ref": "#/definitions/Isi"
              },
              {
                "$ref": "#/definitions/Fib"
              },
              {
                "$ref": "#/definitions/Merfish"
              },
              {
                "$ref": "#/definitions/Mri"
              },
              {
                "$ref": "#/definitions/POphys"
              },
              {
                "$ref": "#/definitions/Slap"
              },
              {
                "$ref": "#/definitions/Spim"
              },
              {
                "$ref": "#/definitions/TrainedBehavior"
              }
            ]
          },
          "title": "Modalities",
          "type": "array"
        },
        "notes": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Notes"
        }
      },
      "required": [
        "stream_start_time",
        "stream_end_time",
        "mouse_platform_name",
        "active_mouse_platform",
        "stream_modalities"
      ],
      "title": "Stream",
      "type": "object"
    },
    "TimeUnit": {
      "description": "Enumeration of Time Measurements",
      "enum": [
        "hour",
        "minute",
        "second",
        "millisecond",
        "microsecond",
        "nanosecond"
      ],
      "title": "TimeUnit",
      "type": "string"
    },
    "TrainedBehavior": {
      "additionalProperties": false,
      "description": "TrainedBehavior",
      "properties": {
        "name": {
          "const": "Trained behavior",
          "default": "Trained behavior",
          "title": "Name",
          "type": "string"
        },
        "abbreviation": {
          "const": "trained-behavior",
          "default": "trained-behavior",
          "title": "Abbreviation",
          "type": "string"
        }
      },
      "title": "TrainedBehavior",
      "type": "object"
    },
    "TriggerType": {
      "description": "Types of detector triggers",
      "enum": [
        "Internal",
        "External"
      ],
      "title": "TriggerType",
      "type": "string"
    },
    "VisualStimulation": {
      "additionalProperties": false,
      "description": "Description of visual stimulus parameters. Provides a high level description of stimulus.",
      "properties": {
        "stimulus_type": {
          "const": "Visual",
          "default": "Visual",
          "title": "Stimulus Type",
          "type": "string"
        },
        "stimulus_name": {
          "title": "Stimulus name",
          "type": "string"
        },
        "stimulus_parameters": {
          "default": {},
          "description": "Define and list the parameter values used (e.g. all TF or orientation values)",
          "title": "Stimulus parameters",
          "type": "object"
        },
        "stimulus_template_name": {
          "default": [],
          "description": "Name of image set or movie displayed",
          "items": {
            "type": "string"
          },
          "title": "Stimulus template name",
          "type": "array"
        },
        "stimulus_software": {
          "description": "The software used to control the stimulus (e.g. Bonsai)",
          "title": "Stimulus software",
          "type": "string"
        },
        "stimulus_software_version": {
          "title": "Stimulus software version",
          "type": "string"
        },
        "stimulus_script": {
          "description": "The specific code for this stimulus instance",
          "title": "Stimulus script",
          "type": "string"
        },
        "stimulus_script_version": {
          "title": "Stimulus script version",
          "type": "string"
        },
        "notes": {
          "default": null,
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Notes"
        }
      },
      "required": [
        "stimulus_name",
        "stimulus_software",
        "stimulus_software_version",
        "stimulus_script",
        "stimulus_script_version"
      ],
      "title": "VisualStimulation",
      "type": "object"
    },
    "VolumeUnit": {
      "description": "Enumeration of Volume Measurements",
      "enum": [
        "liter",
        "milliliter",
        "microliter",
        "nanoliter"
      ],
      "title": "VolumeUnit",
      "type": "string"
    }
  },
  "additionalProperties": false,
  "properties": {
    "metadata": {
      "allOf": [
        {
          "$ref": "#/definitions/Metadata"
        }
      ],
      "description": "Metadata of the session"
    },
    "session": {
      "allOf": [
        {
          "$ref": "#/definitions/Session"
        }
      ],
      "description": "Session data"
    }
  },
  "required": [
    "metadata",
    "session"
  ],
  "title": "AindVrForagingSession",
  "type": "object"
}